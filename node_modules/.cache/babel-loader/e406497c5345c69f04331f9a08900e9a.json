{"ast":null,"code":"var _jsxFileName = \"c:\\\\Users\\\\ASUS\\\\Documents\\\\GitHub\\\\examendad\\\\src\\\\components\\\\principal\\\\buscarproducto.js\";\nimport React, { Component } from 'react';\nimport Carrito from './carrito';\nlet parseo = [];\nlet carrito = [];\nlet productos = [{\n  codigo: 12345678,\n  idproducto: 23,\n  nom_producto: \"Aceite Primor\",\n  precio: 5.60,\n  stock: 20\n}, {\n  codigo: 87654321,\n  idproducto: 17,\n  nom_producto: \"Sapolio\",\n  precio: 2.50,\n  stock: 50\n}];\n\nclass BuscarProducto extends Component {\n  constructor(props) {\n    super(props);\n\n    this.buscarProducto = e => {\n      var codigo = document.getElementById(\"codigo\").value;\n\n      for (var i in productos) {\n        var cod = productos[i][\"codigo\"];\n\n        if (codigo.length == 8) {\n          if (cod == codigo) {\n            var data = productos[i];\n            parseo.push(data);\n            this.setState({\n              listaDeProductos: parseo\n            });\n          }\n        }\n      }\n    };\n\n    this.state = {\n      listaDeProductos: [],\n      listadeCompras: [],\n      Compras: []\n    };\n  }\n\n  onEditHandle(event) {\n    var idp = arguments[0];\n    var cant = document.getElementById(\"c\" + idp).value;\n    const data = {\n      idproducto: idp,\n      codigo: arguments[1],\n      nom_producto: arguments[2],\n      precio: arguments[3],\n      cantidad: cant\n    };\n\n    if (carrito.length == 0) {\n      carrito.push(data);\n      console.log(\"Este es el carrito:\" + carrito);\n      parseo = [];\n      this.setState({\n        listaDeCompras: carrito,\n        listaDeProductos: parseo\n      });\n    } else {\n      for (var i in carrito) {\n        var idp = carrito[i][\"idproducto\"];\n\n        if (data.idproducto == idp) {\n          console.log(\"ya existe prro\");\n          var cantidad = carrito[i][\"cantidad\"];\n          var cant = parseInt(cantidad) + parseInt(data.cantidad);\n          carrito[i][\"cantidad\"] = cant;\n          parseo = [];\n          this.setState({\n            listaDeCompras: carrito,\n            listaDeProductos: parseo\n          });\n        } else {\n          carrito.push(data);\n          parseo = [];\n          this.setState({\n            listaDeCompras: carrito,\n            listaDeProductos: parseo\n          });\n        }\n      }\n    }\n\n    console.log(carrito);\n    this.setState({\n      Compras: [carrito]\n    });\n  }\n\n  render() {\n    const listadeProducto = this.state.listaDeProductos.map((item, index) => {\n      return React.createElement(\"tr\", {\n        key: item.idproducto,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, index + 1), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, item.codigo), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, item.nom_producto), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        maxLength: \"5\",\n        size: \"4\",\n        id: \"c\" + item.idproducto,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      })), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, item.precio), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, item.stock), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-success\",\n        onClick: this.onEditHandle.bind(this, item.idproducto, item.codigo),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-cart-plus\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }))));\n    });\n    const listadeCompras = this.state.Compras.map((item, index) => {\n      return React.createElement(\"tr\", {\n        key: item.carrito.idproducto,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, index + 1), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, item.carrito.codigo), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, item.nom_producto), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, item.cantidad), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, item.precio), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, item.stock), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-success\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-board\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }))));\n    });\n    return React.createElement(\"div\", {\n      className: \"col-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \"card-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, \"Buscador de Productos\"), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-9\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      id: \"codigo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-outline-primary btn-block\",\n      onClick: this.buscarProducto,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, \"Buscar Productos\", React.createElement(\"i\", {\n      className: \"fas fa-cart-plus\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }))))))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"col-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      className: \"table table-bordered\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, \"#\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, \"Codigo\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, \"Nombre\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"Cantidad\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, \"Precio\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, \"Stock\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, \"Agregar\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, listadeProducto))))), React.createElement(\"div\", {\n      className: \"col-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, React.createElement(Carrito, {\n      data: listadeCompras,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default BuscarProducto;","map":{"version":3,"sources":["c:\\Users\\ASUS\\Documents\\GitHub\\examendad\\src\\components\\principal\\buscarproducto.js"],"names":["React","Component","Carrito","parseo","carrito","productos","codigo","idproducto","nom_producto","precio","stock","BuscarProducto","constructor","props","buscarProducto","e","document","getElementById","value","i","cod","length","data","push","setState","listaDeProductos","state","listadeCompras","Compras","onEditHandle","event","idp","arguments","cant","cantidad","console","log","listaDeCompras","parseInt","render","listadeProducto","map","item","index","bind"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,OAAP,MAAoB,WAApB;AAEA,IAAIC,MAAM,GAAC,EAAX;AACA,IAAIC,OAAO,GAAC,EAAZ;AACA,IAAIC,SAAS,GAAC,CAAC;AACXC,EAAAA,MAAM,EAAC,QADI;AAEXC,EAAAA,UAAU,EAAC,EAFA;AAGXC,EAAAA,YAAY,EAAC,eAHF;AAIXC,EAAAA,MAAM,EAAC,IAJI;AAKXC,EAAAA,KAAK,EAAC;AALK,CAAD,EAMZ;AACEJ,EAAAA,MAAM,EAAC,QADT;AAEEC,EAAAA,UAAU,EAAC,EAFb;AAGEC,EAAAA,YAAY,EAAC,SAHf;AAIEC,EAAAA,MAAM,EAAC,IAJT;AAKEC,EAAAA,KAAK,EAAC;AALR,CANY,CAAd;;AAcA,MAAMC,cAAN,SAA6BV,SAA7B,CAAuC;AACnCW,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAQnBC,cARmB,GAQHC,CAAD,IAAK;AAChB,UAAIT,MAAM,GAACU,QAAQ,CAACC,cAAT,CAAwB,QAAxB,EAAkCC,KAA7C;;AACA,WAAI,IAAIC,CAAR,IAAad,SAAb,EAAuB;AACnB,YAAIe,GAAG,GAACf,SAAS,CAACc,CAAD,CAAT,CAAa,QAAb,CAAR;;AACA,YAAGb,MAAM,CAACe,MAAP,IAAe,CAAlB,EAAoB;AAChB,cAAGD,GAAG,IAAEd,MAAR,EAAe;AACX,gBAAIgB,IAAI,GAACjB,SAAS,CAACc,CAAD,CAAlB;AACAhB,YAAAA,MAAM,CAACoB,IAAP,CAAYD,IAAZ;AACA,iBAAKE,QAAL,CAAc;AACVC,cAAAA,gBAAgB,EAAEtB;AADR,aAAd;AAGH;AACJ;AACJ;AAEJ,KAvBkB;;AAEf,SAAKuB,KAAL,GAAa;AACTD,MAAAA,gBAAgB,EAAE,EADT;AAETE,MAAAA,cAAc,EAAC,EAFN;AAGTC,MAAAA,OAAO,EAAC;AAHC,KAAb;AAKH;;AAkBDC,EAAAA,YAAY,CAACC,KAAD,EAAO;AACf,QAAIC,GAAG,GAACC,SAAS,CAAC,CAAD,CAAjB;AACA,QAAIC,IAAI,GAACjB,QAAQ,CAACC,cAAT,CAAwB,MAAIc,GAA5B,EAAiCb,KAA1C;AACA,UAAMI,IAAI,GAAC;AACPf,MAAAA,UAAU,EAACwB,GADJ;AAEPzB,MAAAA,MAAM,EAAC0B,SAAS,CAAC,CAAD,CAFT;AAGPxB,MAAAA,YAAY,EAACwB,SAAS,CAAC,CAAD,CAHf;AAIPvB,MAAAA,MAAM,EAACuB,SAAS,CAAC,CAAD,CAJT;AAKPE,MAAAA,QAAQ,EAACD;AALF,KAAX;;AAOA,QAAG7B,OAAO,CAACiB,MAAR,IAAgB,CAAnB,EAAqB;AACjBjB,MAAAA,OAAO,CAACmB,IAAR,CAAaD,IAAb;AACAa,MAAAA,OAAO,CAACC,GAAR,CAAY,wBAAsBhC,OAAlC;AACAD,MAAAA,MAAM,GAAC,EAAP;AACI,WAAKqB,QAAL,CAAc;AACVa,QAAAA,cAAc,EAACjC,OADL;AAEVqB,QAAAA,gBAAgB,EAACtB;AAFP,OAAd;AAIP,KARD,MAQK;AACD,WAAI,IAAIgB,CAAR,IAAaf,OAAb,EAAqB;AACjB,YAAI2B,GAAG,GAAC3B,OAAO,CAACe,CAAD,CAAP,CAAW,YAAX,CAAR;;AACA,YAAGG,IAAI,CAACf,UAAL,IAAiBwB,GAApB,EAAwB;AACpBI,UAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACA,cAAIF,QAAQ,GAAC9B,OAAO,CAACe,CAAD,CAAP,CAAW,UAAX,CAAb;AACA,cAAIc,IAAI,GAACK,QAAQ,CAACJ,QAAD,CAAR,GAAmBI,QAAQ,CAAChB,IAAI,CAACY,QAAN,CAApC;AACA9B,UAAAA,OAAO,CAACe,CAAD,CAAP,CAAW,UAAX,IAAuBc,IAAvB;AACA9B,UAAAA,MAAM,GAAC,EAAP;AACA,eAAKqB,QAAL,CAAc;AACVa,YAAAA,cAAc,EAACjC,OADL;AAEVqB,YAAAA,gBAAgB,EAACtB;AAFP,WAAd;AAIH,SAVD,MAUK;AACDC,UAAAA,OAAO,CAACmB,IAAR,CAAaD,IAAb;AACAnB,UAAAA,MAAM,GAAC,EAAP;AACA,eAAKqB,QAAL,CAAc;AACVa,YAAAA,cAAc,EAACjC,OADL;AAEVqB,YAAAA,gBAAgB,EAACtB;AAFP,WAAd;AAIH;AACJ;AACJ;;AACDgC,IAAAA,OAAO,CAACC,GAAR,CAAYhC,OAAZ;AACA,SAAKoB,QAAL,CAAc;AACVI,MAAAA,OAAO,EAAC,CAACxB,OAAD;AADE,KAAd;AAGH;;AAEDmC,EAAAA,MAAM,GAAG;AACL,UAAMC,eAAe,GAAE,KAAKd,KAAL,CAAWD,gBAAX,CAA4BgB,GAA5B,CAAgC,CAACC,IAAD,EAAMC,KAAN,KAAgB;AACnE,aACQ;AAAI,QAAA,GAAG,EAAED,IAAI,CAACnC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKoC,KAAK,GAAC,CAAX,CADR,EAEQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKD,IAAI,CAACpC,MAAV,CAFR,EAGQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKoC,IAAI,CAAClC,YAAV,CAHR,EAIQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAI;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,SAAS,EAAC,cAA7B;AAA4C,QAAA,SAAS,EAAC,GAAtD;AAA0D,QAAA,IAAI,EAAC,GAA/D;AAAmE,QAAA,EAAE,EAAE,MAAIkC,IAAI,CAACnC,UAAhF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAJ,CAJR,EAKQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKmC,IAAI,CAACjC,MAAV,CALR,EAMQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKiC,IAAI,CAAChC,KAAV,CANR,EAOQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAQ,QAAA,SAAS,EAAC,iBAAlB;AAAoC,QAAA,OAAO,EAAE,KAAKmB,YAAL,CAAkBe,IAAlB,CAAuB,IAAvB,EAA4BF,IAAI,CAACnC,UAAjC,EAA4CmC,IAAI,CAACpC,MAAjD,CAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAG,QAAA,SAAS,EAAC,kBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,CADJ,CAPR,CADR;AAgBH,KAjBsB,CAAvB;AAmBA,UAAMqB,cAAc,GAAC,KAAKD,KAAL,CAAWE,OAAX,CAAmBa,GAAnB,CAAuB,CAACC,IAAD,EAAMC,KAAN,KAAc;AACtD,aACI;AAAI,QAAA,GAAG,EAAED,IAAI,CAACtC,OAAL,CAAaG,UAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKoC,KAAK,GAAC,CAAX,CADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKD,IAAI,CAACtC,OAAL,CAAaE,MAAlB,CAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKoC,IAAI,CAAClC,YAAV,CAHJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKkC,IAAI,CAACR,QAAV,CAJJ,EAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKQ,IAAI,CAACjC,MAAV,CALJ,EAMI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKiC,IAAI,CAAChC,KAAV,CANJ,EAOI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAQ,QAAA,SAAS,EAAC,iBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAG,QAAA,SAAS,EAAC,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CADJ,CAPJ,CADJ;AAeH,KAhBoB,CAArB;AAiBA,WACI;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAI,MAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BADJ,EAEI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,SAAS,EAAC,cAA7B;AAA4C,MAAA,EAAE,EAAC,QAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,EAII;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,SAAS,EAAC,mCAAhC;AAAoE,MAAA,OAAO,EAAE,KAAKI,cAAlF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BACoB;AAAG,MAAA,SAAS,EAAC,kBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADpB,CADJ,CAJJ,CADJ,CAFJ,CADJ,CADJ,EAmBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAnBJ,EAoBI;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAO,MAAA,SAAS,EAAC,sBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAI,MAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADJ,EAEI;AAAI,MAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,EAGI;AAAI,MAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHJ,EAII;AAAI,MAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJJ,EAKI;AAAI,MAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALJ,EAMI;AAAI,MAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eANJ,EAOI;AAAI,MAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAPJ,CADJ,CADJ,EAYI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC0B,eADD,CAZJ,CADJ,CADJ,CADJ,CApBJ,EA0CI;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,OAAD;AAAS,MAAA,IAAI,EAAEb,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CA1CJ,CADJ;AAgDH;;AA9JkC;;AAiKvC,eAAehB,cAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport Carrito from './carrito';\r\n\r\nlet parseo=[];\r\nlet carrito=[];\r\nlet productos=[{\r\n    codigo:12345678,\r\n    idproducto:23,\r\n    nom_producto:\"Aceite Primor\",\r\n    precio:5.60,\r\n    stock:20\r\n},{\r\n    codigo:87654321,\r\n    idproducto:17,\r\n    nom_producto:\"Sapolio\",\r\n    precio:2.50,\r\n    stock:50\r\n}];\r\n\r\nclass BuscarProducto extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            listaDeProductos: [],\r\n            listadeCompras:[],\r\n            Compras:[]\r\n        }\r\n    }\r\n    buscarProducto=(e)=>{\r\n        var codigo=document.getElementById(\"codigo\").value;\r\n        for(var i in productos){\r\n            var cod=productos[i][\"codigo\"];\r\n            if(codigo.length==8){\r\n                if(cod==codigo){\r\n                    var data=productos[i];\r\n                    parseo.push(data);\r\n                    this.setState({\r\n                        listaDeProductos: parseo\r\n                    });     \r\n                }\r\n            }\r\n        }  \r\n        \r\n    }\r\n\r\n    onEditHandle(event){\r\n        var idp=arguments[0];\r\n        var cant=document.getElementById(\"c\"+idp).value;\r\n        const data={\r\n            idproducto:idp,\r\n            codigo:arguments[1],\r\n            nom_producto:arguments[2],\r\n            precio:arguments[3],\r\n            cantidad:cant\r\n        }  \r\n        if(carrito.length==0){\r\n            carrito.push(data);\r\n            console.log(\"Este es el carrito:\"+carrito);\r\n            parseo=[];\r\n                this.setState({\r\n                    listaDeCompras:carrito,\r\n                    listaDeProductos:parseo\r\n            })\r\n        }else{\r\n            for(var i in carrito){\r\n                var idp=carrito[i][\"idproducto\"];\r\n                if(data.idproducto==idp){\r\n                    console.log(\"ya existe prro\");\r\n                    var cantidad=carrito[i][\"cantidad\"];\r\n                    var cant=parseInt(cantidad)+parseInt(data.cantidad);\r\n                    carrito[i][\"cantidad\"]=cant;\r\n                    parseo=[];\r\n                    this.setState({\r\n                        listaDeCompras:carrito,\r\n                        listaDeProductos:parseo\r\n                    })\r\n                }else{\r\n                    carrito.push(data);\r\n                    parseo=[];\r\n                    this.setState({\r\n                        listaDeCompras:carrito,\r\n                        listaDeProductos:parseo\r\n                    })\r\n                }\r\n            }\r\n        }\r\n        console.log(carrito);\r\n        this.setState({\r\n            Compras:[carrito]\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const listadeProducto= this.state.listaDeProductos.map((item,index) => {\r\n            return(         \r\n                    <tr key={item.idproducto}>\r\n                            <th>{index+1}</th>\r\n                            <th>{item.codigo}</th>\r\n                            <th>{item.nom_producto}</th>\r\n                            <th><input type=\"text\" className=\"form-control\" maxLength=\"5\" size=\"4\" id={\"c\"+item.idproducto} /></th>\r\n                            <th>{item.precio}</th>\r\n                            <th>{item.stock}</th>\r\n                            <th>\r\n                                <button className=\"btn btn-success\" onClick={this.onEditHandle.bind(this,item.idproducto,item.codigo)}>\r\n                                <i className=\"fas fa-cart-plus\"></i>\r\n                                </button>\r\n                            </th>\r\n                    </tr>\r\n              \r\n            );\r\n        });\r\n\r\n        const listadeCompras=this.state.Compras.map((item,index)=>{\r\n            return(\r\n                <tr key={item.carrito.idproducto}>\r\n                    <th>{index+1}</th>\r\n                    <th>{item.carrito.codigo}</th>\r\n                    <th>{item.nom_producto}</th>\r\n                    <th>{item.cantidad}</th>\r\n                    <th>{item.precio}</th>\r\n                    <th>{item.stock}</th>\r\n                    <th>\r\n                        <button className=\"btn btn-success\">\r\n                            <i className=\"fas fa-board\"></i>\r\n                        </button>\r\n                    </th>\r\n                </tr>\r\n            );\r\n        });\r\n        return (\r\n            <div className=\"col-12\">\r\n                <div className=\"card\">\r\n                    <div className=\"card-body\">\r\n                        <h5 className=\"card-title\">Buscador de Productos</h5>\r\n                        <div className=\"form-group\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col-9\">\r\n                                    <input type=\"text\" className=\"form-control\" id=\"codigo\"/>\r\n                                </div>\r\n                                <div className=\"col-3\">\r\n                                    <button type=\"button\" className=\"btn btn-outline-primary btn-block\" onClick={this.buscarProducto}>\r\n                                        Buscar Productos<i className=\"fas fa-cart-plus\"></i>\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n                <br></br>\r\n                <div className=\"col-12\">\r\n                    <div className=\"card\">\r\n                        <div className=\"card-body\">\r\n                            <table className=\"table table-bordered\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th scope=\"col\">#</th>\r\n                                        <th scope=\"col\">Codigo</th>\r\n                                        <th scope=\"col\">Nombre</th>\r\n                                        <th scope=\"col\">Cantidad</th>\r\n                                        <th scope=\"col\">Precio</th>\r\n                                        <th scope=\"col\">Stock</th>\r\n                                        <th scope=\"col\">Agregar</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                {listadeProducto}\r\n                                </tbody>                           \r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-12\">\r\n                    <Carrito data={listadeCompras}/>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default BuscarProducto;"]},"metadata":{},"sourceType":"module"}